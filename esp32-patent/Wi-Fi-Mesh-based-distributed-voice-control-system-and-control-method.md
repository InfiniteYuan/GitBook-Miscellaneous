# 一种基于 Wi-Fi Mesh 的分布式语音控制系统及控制方法

标签： 专利

1、本发明要解决的技术问题是什么？

随着智能音箱的普及，带有“语音控制”的设备也走进了千家万户。但现有语音控制系统，一般都是基于智能音箱方式来控制，成本高，只有一个语音入口，无法自组网，语音识别范围小，一旦音箱出故障，整个系统都无法使用。

本发明公开一种基于 Wi-Fi Mesh 的分布式语音控制系统及控制方法，该控制系统包括 Wi-Fi Mesh 网络、语音/语义处理单元（可选）、Wi-Fi Mesh 节点设备;在本系统将实现广覆盖、低成本、多语音入口、自组网、自恢复等功能。

* 语音/语义处理单元（可选）：包括语音/语义识别，Wi-Fi 模块。语音/语义处理单元与 Wi-Fi Mesh 节点设备之间通过 Wi-Fi Mesh 互相通信，任一语音/语义处理单元都可控制网络内 Wi-Fi Mesh 节点设备；如果系统中加入语音/语义处理单元可实现本地语音控制，无需通过云服务器实现。
* Wi-Fi Mesh 节点设备：包括语音采集（可选），Wi-Fi 模块，其他控制模块。
  * 包含语音采集：可用作扩展语音入口和控制单元
    * 通过 Wi-Fi Mesh 网络与语音/语义处理单元之间通信，向语音/语义处理单元发送音频数据进行语义识别，并根据语音/语义处理单元返回的数据（语义识别结果）或其自身的事件响应相关操作。
    * 通过 Wi-Fi Mesh 网络与云服务器之间通信，向云服务器发送音频数据进行语音在线识别，并根据云服务器返回的数据（语义识别结果）或其自身的事件响应相关操作。
  * 不包含语音采集：可用作控制单元。
    * 接收来自 Wi-Fi Mesh 网络的数据和自身的事件做响应相关操作，若要进行语音控制，则需要通过 Wi-Fi Mesh 加入到语音控制系统。

本发明中任何一个设备都是相互独立的，如果某个设备异常不会影响其它设备正常工作；任何有放置 Wi-Fi Mesh 节点设备的地方都可以对网络的其他设备进行语音控制；采用 Wi-Fi Mesh 协议，每个设备都有中继和转发功能、扩展网络覆盖范围。

2、详细介绍技术背景,并描述已有的与本发明最相近似的实现方案。

* 现有智能音箱控制系统：目前市面广泛使用基于天猫精灵等智能音箱的语音控制系统，在这种语音控制系统下：
  * 仅智能音箱包含语音采集、语义识别功能，无法在没有智能音箱的区域内实现语音控制。若要实现大范围的语音控制，需增加智能音箱数扩大语音控制的范围，但众所周知智能音箱的成本太高，阻碍语音控制系统的大范围使用。
  * 并且智能音箱与被控制设备之间需要通过路由器转发数据，路由器连接设备数量太多将增加路由器的负载且通过路由器转发数据的方式将限制整个语音控制系统覆盖的范围。
* 本发明中的语音控制系统：语音/语义处理单元与 Wi-Fi Mesh 节点设备之间通过 Wi-Fi Mesh 实现自组网、自恢复、广覆盖等功能。
  * 各个 Wi-Fi Mesh 节点设备可选择是否具有语音采集功能，若包含语音采集功能可通过该模块进行语音采集，并将音频数据传输到语音/语义处理单元进行语音本地识别或传输到云服务器进行语音在线识别，根据返回的数据响应相关操作。
  * 整个 Wi-Fi Mesh 网络中仅一个或多个设备连接到路由器，可有效降低路由器的负载，并且 Wi-Fi Mesh 设备间自组网，有效扩展语音控制系统覆盖范围。
  * 通过上述两种方式可将语音控制系统中的语音入口扩展到多个，并扩展语音控制系统覆盖范围。

3、本发明技术方案的详细阐述，应该结合附图进行说明采取的技术手段，包括结构说明，原理说明，连接关系说明等，图另附。

本发明中语音控制系统可分为两类：

* 包含语音/语义处理单元的语音控制系统
  * 如图所示，在包含语音/语义处理单元的语音控制系统中，语音控制系统内所有音频数据将无需通过路由器传输到语音/语义处理单元进行语音本地识别，并将控制指令发送到 Wi-Fi Mesh 节点设备。
  * 在智能家居场景中，每个房间可布置一个具有语音采集功能的 Wi-Fi Mesh 节点设备即可实现语音控制，房间内其他节点做为普通控制单元即可。采集到的音频数据都将通过 Wi-Fi Mesh 发送到语音/语义处理单元进行语音本地识别。
  * 整个语音控制系统仅一/多个节点连接到路由器，被称为 Wi-Fi Mesh 网络中的根节点。 ![&#x5305;&#x542B;&#x8BED;&#x97F3;/&#x8BED;&#x4E49;&#x5904;&#x7406;&#x5355;&#x5143;&#x7684;&#x8BED;&#x97F3;&#x63A7;&#x5236;&#x7CFB;&#x7EDF;](http://resource.infiniteyuan.com/image/situation1.png)
  * 举例说明：当用户在卧室 1 中进行语音控制时，卧室 1 中的 Wi-Fi Mesh 节点设备（包含语音采集功能）将会采集用户的音频数据，并通过 Wi-Fi Mesh 网络直接发送到客厅中的语音/语义处理单元进行语音本地识别，语音/语义处理单元可直接将控制指令发送到 Wi-Fi Mesh 网络内的被控制设备。
    * 每个房间为降低成本可仅部署一个包含语音采集功能的 Wi-Fi Mesh 节点设备，例如：上图中，每个房间仅包含包含语音采集功能的 Wi-Fi Mesh 节点设备，其余 Wi-Fi Mesh 节点设备可不含语义采集功能。
    * 若房间足够大，为了使语音控制体验更好，可根据房间环境部署多个包含语音采集功能的 Wi-Fi Mesh 节点设备。
* 不包含语音/语义处理单元的语音控制系统
  * 如图所示，在不包含语音/语义处理单元的语音控制系统中，语音控制系统内所有音频数据将通过路由器传输到云服务器进行语音在线识别，并接收来自服务器的处理结果。
  * 在智能家居场景中，每个房间可布置一个具有语音采集功能的 Wi-Fi Mesh 节点设备即可实现语音控制，房间内其他节点做为普通控制单元即可。采集到的音频数据都将通过 Wi-Fi Mesh 和路由器传输到云服务器进行语音在线识别。
  * 整个语音控制系统仅一/多个节点连接到路由器，被称为 Wi-Fi Mesh 网络中的根节点。 ![&#x4E0D;&#x5305;&#x542B;&#x8BED;&#x97F3;/&#x8BED;&#x4E49;&#x5904;&#x7406;&#x5355;&#x5143;&#x7684;&#x8BED;&#x97F3;&#x63A7;&#x5236;&#x7CFB;&#x7EDF;](http://resource.infiniteyuan.com/image/situation2.png)
  * 举例说明：当用户在卧室 1 中进行语音控制时，卧室 1 中的 Wi-Fi Mesh 节点设备（包含语音采集功能）将会采集用户的音频数据，并通过 Wi-Fi Mesh 网络中的根节点（连接到路由器的 Wi-Fi Mesh 节点设备）转发音频数据到云服务器进行语音在线识别，云服务器将结果返回到根节点，根节点将控制指令发送到 Wi-Fi Mesh 网络内的被控制设备。
    * 同理，每个房间可部署一/多个包含语音采集功能的 Wi-Fi Mesh 节点设备。

4、本发明的关键点和欲保护点是什么？

* 通过 Wi-Fi Mesh 实现分布式语音控制系统，自组网、自恢复、广覆盖。
* 语音控制系统内仅一个设备包含语音/语义识别功能，其他设备将音频数据传输到语音/语义处理单元进行语音本地识别或传输到云服务器进行语音在线识别。

5、与现有技术相比，本发明有何优点？

* 覆盖范围广：通过 Wi-Fi Mesh 实现自组网、自恢复、扩展语音控制系统覆盖范围。
* 多语音入口：在语音控制系统中，所有 Wi-Fi Mesh 节点均可包含语音采集功能，将音频数据传输到语音/语义处理单元进行语音本地识别或传输到云服务器进行语音在线识别。
* 低成本：进行语音本地识别需要 CPU 具有较强的处理能力，这将增加语音控制系统的成本，本发明所述的语音控制系统中，仅包含一个或不包含语音/语义处理单元即可实现整个系统的语音控制，明显降低了语音控制系统的成本。

